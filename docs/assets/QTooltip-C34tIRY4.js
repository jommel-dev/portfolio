import{U as Le,V,B as O,W as oe,t as Ie,X as I,R as Y,Y as fe,a0 as De,g as Q,r as D,c as y,w as A,h as C,a3 as qe,a4 as Be,k as ee,a5 as Ne,o as se,q as z,Q as ve,a6 as Fe,Z as me,x as ke,a1 as ze,u as re,a7 as he,b as je,a8 as Oe,a9 as Ve,aa as Qe}from"./index-CMiznB3X.js";import{j as Re,h as te,v as Ke,e as Xe,b as ie,a as Ye,k as Ue}from"./QBtn-DwKHX1mh.js";import{i as ge,k as U,j as pe,n as _e,u as Ge,f as Ze,c as Je,l as et,s as tt,m as nt,o as ot,g as it}from"./selection-DeBP7oJj.js";function lt(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,o)=>{const a=parseFloat(i);a&&(t[o]=a)}),t}const at=Le({name:"touch-swipe",beforeMount(e,{value:t,arg:i,modifiers:o}){if(o.mouse!==!0&&O.has.touch!==!0)return;const a=o.mouseCapture===!0?"Capture":"",n={handler:t,sensitivity:lt(i),direction:ge(o),noop:Ie,mouseStart(l){pe(l,n)&&De(l)&&(I(n,"temp",[[document,"mousemove","move",`notPassive${a}`],[document,"mouseup","end","notPassiveCapture"]]),n.start(l,!0))},touchStart(l){if(pe(l,n)){const r=l.target;I(n,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),n.start(l)}},start(l,r){O.is.firefox===!0&&oe(e,!0);const s=fe(l);n.event={x:s.left,y:s.top,time:Date.now(),mouse:r===!0,dir:!1}},move(l){if(n.event===void 0)return;if(n.event.dir!==!1){Y(l);return}const r=Date.now()-n.event.time;if(r===0)return;const s=fe(l),d=s.left-n.event.x,c=Math.abs(d),p=s.top-n.event.y,h=Math.abs(p);if(n.event.mouse!==!0){if(c<n.sensitivity[1]&&h<n.sensitivity[1]){n.end(l);return}}else if(window.getSelection().toString()!==""){n.end(l);return}else if(c<n.sensitivity[2]&&h<n.sensitivity[2])return;const u=c/r,f=h/r;n.direction.vertical===!0&&c<h&&c<100&&f>n.sensitivity[0]&&(n.event.dir=p<0?"up":"down"),n.direction.horizontal===!0&&c>h&&h<100&&u>n.sensitivity[0]&&(n.event.dir=d<0?"left":"right"),n.direction.up===!0&&c<h&&p<0&&c<100&&f>n.sensitivity[0]&&(n.event.dir="up"),n.direction.down===!0&&c<h&&p>0&&c<100&&f>n.sensitivity[0]&&(n.event.dir="down"),n.direction.left===!0&&c>h&&d<0&&h<100&&u>n.sensitivity[0]&&(n.event.dir="left"),n.direction.right===!0&&c>h&&d>0&&h<100&&u>n.sensitivity[0]&&(n.event.dir="right"),n.event.dir!==!1?(Y(l),n.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),U(),n.styleCleanup=_=>{n.styleCleanup=void 0,document.body.classList.remove("non-selectable");const q=()=>{document.body.classList.remove("no-pointer-events--children")};_===!0?setTimeout(q,50):q()}),n.handler({evt:l,touch:n.event.mouse!==!0,mouse:n.event.mouse,direction:n.event.dir,duration:r,distance:{x:c,y:h}})):n.end(l)},end(l){n.event!==void 0&&(V(n,"temp"),O.is.firefox===!0&&oe(e,!1),n.styleCleanup?.(!0),l!==void 0&&n.event.dir!==!1&&Y(l),n.event=void 0)}};if(e.__qtouchswipe=n,o.mouse===!0){const l=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";I(n,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}O.has.touch===!0&&I(n,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const i=e.__qtouchswipe;i!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&i.end(),i.handler=t.value),i.direction=ge(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(V(t,"main"),V(t,"temp"),O.is.firefox===!0&&oe(e,!1),t.styleCleanup?.(),delete e.__qtouchswipe)}});function rt(){let e=Object.create(null);return{getCache:(t,i)=>e[t]===void 0?e[t]=typeof i=="function"?i():i:e[t],setCache(t,i){e[t]=i},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const ut={name:{required:!0},disable:Boolean},ye={setup(e,{slots:t}){return()=>C("div",{class:"q-panel scroll",role:"tabpanel"},te(t.default))}},st={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ct=["update:modelValue","beforeTransition","transition"];function dt(){const{props:e,emit:t,proxy:i}=Q(),{getCache:o}=rt(),{registerTimeout:a}=_e();let n,l;const r=D(null),s={value:null};function d(v){const g=e.vertical===!0?"up":"left";P((i.$q.lang.rtl===!0?-1:1)*(v.direction===g?1:-1))}const c=y(()=>[[at,d,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),p=y(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),h=y(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),u=y(()=>`--q-transition-duration: ${e.transitionDuration}ms`),f=y(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),_=y(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),q=y(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);A(()=>e.modelValue,(v,g)=>{const S=k(v)===!0?m(v):-1;l!==!0&&w(S===-1?0:S<m(g)?-1:1),s.value!==S&&(s.value=S,t("beforeTransition",v,g),a(()=>{t("transition",v,g)},e.transitionDuration))});function W(){P(1)}function L(){P(-1)}function b(v){t("update:modelValue",v)}function k(v){return v!=null&&v!==""}function m(v){return n.findIndex(g=>g.props.name===v&&g.props.disable!==""&&g.props.disable!==!0)}function H(){return n.filter(v=>v.props.disable!==""&&v.props.disable!==!0)}function w(v){const g=v!==0&&e.animated===!0&&s.value!==-1?"q-transition--"+(v===-1?p.value:h.value):null;r.value!==g&&(r.value=g)}function P(v,g=s.value){let S=g+v;for(;S!==-1&&S<n.length;){const j=n[S];if(j!==void 0&&j.props.disable!==""&&j.props.disable!==!0){w(v),l=!0,t("update:modelValue",j.props.name),setTimeout(()=>{l=!1});return}S+=v}e.infinite===!0&&n.length!==0&&g!==-1&&g!==n.length&&P(v,v===-1?n.length:-1)}function E(){const v=m(e.modelValue);return s.value!==v&&(s.value=v),!0}function x(){const v=k(e.modelValue)===!0&&E()&&n[s.value];return e.keepAlive===!0?[C(Be,_.value,[C(q.value===!0?o(f.value,()=>({...ye,name:f.value})):ye,{key:f.value,style:u.value},()=>v)])]:[C("div",{class:"q-panel scroll",style:u.value,key:f.value,role:"tabpanel"},[v])]}function M(){if(n.length!==0)return e.animated===!0?[C(qe,{name:r.value},x)]:x()}function B(v){return n=Re(te(v.default,[])).filter(g=>g.props!==null&&g.props.slot===void 0&&k(g.props.name)===!0),n.length}function T(){return n}return Object.assign(i,{next:W,previous:L,goTo:b}),{panelIndex:s,panelDirectives:c,updatePanelsList:B,updatePanelIndex:E,getPanelContent:M,getEnabledPanels:H,getPanels:T,isValidPanelName:k,keepAliveProps:_,needsUniqueKeepAliveWrapper:q,goToPanelByOffset:P,goToPanel:b,nextPanel:W,previousPanel:L}}const Dt=ee({name:"QCarouselSlide",props:{...ut,imgSrc:String},setup(e,{slots:t}){const i=y(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>C("div",{class:"q-carousel__slide",style:i.value},te(t.default))}});let R=0;const ft={fullscreen:Boolean,noRouteFullscreenExit:Boolean},vt=["update:fullscreen","fullscreen"];function mt(){const e=Q(),{props:t,emit:i,proxy:o}=e;let a,n,l;const r=D(!1);Ke(e)===!0&&A(()=>o.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&c()}),A(()=>t.fullscreen,p=>{r.value!==p&&s()}),A(r,p=>{i("update:fullscreen",p),i("fullscreen",p)});function s(){r.value===!0?c():d()}function d(){r.value!==!0&&(r.value=!0,l=o.$el.parentNode,l.replaceChild(n,o.$el),document.body.appendChild(o.$el),R++,R===1&&document.body.classList.add("q-body--fullscreen-mixin"),a={handler:c},ve.add(a))}function c(){r.value===!0&&(a!==void 0&&(ve.remove(a),a=void 0),l.replaceChild(o.$el,n),r.value=!1,R=Math.max(0,R-1),R===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),o.$el.scrollIntoView!==void 0&&setTimeout(()=>{o.$el.scrollIntoView()})))}return Ne(()=>{n=document.createElement("span")}),se(()=>{t.fullscreen===!0&&d()}),z(c),Object.assign(o,{toggleFullscreen:s,setFullscreen:d,exitFullscreen:c}),{inFullscreen:r,toggleFullscreen:s}}const ht=["top","right","bottom","left"],gt=["regular","flat","outline","push","unelevated"],Bt=ee({name:"QCarousel",props:{...Ge,...st,...ft,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>gt.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>ht.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...vt,...ct],setup(e,{slots:t}){const{proxy:{$q:i}}=Q(),o=Ze(e,i);let a=null,n;const{updatePanelsList:l,getPanelContent:r,panelDirectives:s,goToPanel:d,previousPanel:c,nextPanel:p,getEnabledPanels:h,panelIndex:u}=dt(),{inFullscreen:f}=mt(),_=y(()=>f.value!==!0&&e.height!==void 0?{height:e.height}:{}),q=y(()=>e.vertical===!0?"vertical":"horizontal"),W=y(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),L=y(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(f.value===!0?" fullscreen":"")+(o.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${q.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${W.value}`:"")),b=y(()=>{const x=[e.prevIcon||i.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||i.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&i.lang.rtl===!0?x.reverse():x}),k=y(()=>e.navigationIcon||i.iconSet.carousel.navigationIcon),m=y(()=>e.navigationActiveIcon||k.value),H=y(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));A(()=>e.modelValue,()=>{e.autoplay&&w()}),A(()=>e.autoplay,x=>{x?w():a!==null&&(clearTimeout(a),a=null)});function w(){const x=Fe(e.autoplay)===!0?Math.abs(e.autoplay):5e3;a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,x>=0?p():c()},x)}se(()=>{e.autoplay&&w()}),z(()=>{a!==null&&clearTimeout(a)});function P(x,M){return C("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${x} q-carousel__navigation--${W.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[C("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},h().map(M))])}function E(){const x=[];if(e.navigation===!0){const M=t["navigation-icon"]!==void 0?t["navigation-icon"]:T=>C(ie,{key:"nav"+T.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${T.active===!0?"":"in"}active`,...T.btnProps,onClick:T.onClick}),B=n-1;x.push(P("buttons",(T,v)=>{const g=T.props.name,S=u.value===v;return M({index:v,maxIndex:B,name:g,active:S,btnProps:{icon:S===!0?m.value:k.value,size:"sm",...H.value},onClick:()=>{d(g)}})}))}else if(e.thumbnails===!0){const M=e.controlColor!==void 0?` text-${e.controlColor}`:"";x.push(P("thumbnails",B=>{const T=B.props;return C("img",{key:"tmb#"+T.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${T.name===e.modelValue?"":"in"}active`+M,src:T.imgSrc||T["img-src"],onClick:()=>{d(T.name)}})}))}return e.arrows===!0&&u.value>=0&&((e.infinite===!0||u.value>0)&&x.push(C("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${q.value} absolute flex flex-center`},[C(ie,{icon:b.value[0],...H.value,onClick:c})])),(e.infinite===!0||u.value<n-1)&&x.push(C("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${q.value} absolute flex flex-center`},[C(ie,{icon:b.value[1],...H.value,onClick:p})]))),Ye(t.control,x)}return()=>(n=l(t),C("div",{class:L.value,style:_.value},[Xe("div",{class:"q-carousel__slides-container"},r(),"sl-cont",e.swipeable,()=>s.value)].concat(E())))}}),pt={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean};function yt({showing:e,avoidEmit:t,configureAnchorEl:i}){const{props:o,proxy:a,emit:n}=Q(),l=D(null);let r=null;function s(u){return l.value===null?!1:u===void 0||u.touches===void 0||u.touches.length<=1}const d={};i===void 0&&(Object.assign(d,{hide(u){a.hide(u)},toggle(u){a.toggle(u),u.qAnchorHandled=!0},toggleKey(u){ze(u,13)===!0&&d.toggle(u)},contextClick(u){a.hide(u),me(u),ke(()=>{a.show(u),u.qAnchorHandled=!0})},prevent:me,mobileTouch(u){if(d.mobileCleanup(u),s(u)!==!0)return;a.hide(u),l.value.classList.add("non-selectable");const f=u.target;I(d,"anchor",[[f,"touchmove","mobileCleanup","passive"],[f,"touchend","mobileCleanup","passive"],[f,"touchcancel","mobileCleanup","passive"],[l.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{r=null,a.show(u),u.qAnchorHandled=!0},300)},mobileCleanup(u){l.value.classList.remove("non-selectable"),r!==null&&(clearTimeout(r),r=null),e.value===!0&&u!==void 0&&U()}}),i=function(u=o.contextMenu){if(o.noParentEvent===!0||l.value===null)return;let f;u===!0?a.$q.platform.is.mobile===!0?f=[[l.value,"touchstart","mobileTouch","passive"]]:f=[[l.value,"mousedown","hide","passive"],[l.value,"contextmenu","contextClick","notPassive"]]:f=[[l.value,"click","toggle","passive"],[l.value,"keyup","toggleKey","passive"]],I(d,"anchor",f)});function c(){V(d,"anchor")}function p(u){for(l.value=u;l.value.classList.contains("q-anchor--skip");)l.value=l.value.parentNode;i()}function h(){if(o.target===!1||o.target===""||a.$el.parentNode===null)l.value=null;else if(o.target===!0)p(a.$el.parentNode);else{let u=o.target;if(typeof o.target=="string")try{u=document.querySelector(o.target)}catch{u=void 0}u!=null?(l.value=u.$el||u,i()):(l.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return A(()=>o.contextMenu,u=>{l.value!==null&&(c(),i(u))}),A(()=>o.target,()=>{l.value!==null&&c(),h()}),A(()=>o.noParentEvent,u=>{l.value!==null&&(u===!0?c():i())}),se(()=>{h(),t!==!0&&o.modelValue===!0&&l.value===null&&n("update:modelValue",!1)}),z(()=>{r!==null&&clearTimeout(r),c()}),{anchorEl:l,canShow:s,anchorEvents:d}}function xt(e,t){const i=D(null);let o;function a(r,s){const d=`${s!==void 0?"add":"remove"}EventListener`,c=s!==void 0?s:o;r!==window&&r[d]("scroll",c,re.passive),window[d]("scroll",c,re.passive),o=s}function n(){i.value!==null&&(a(i.value),i.value=null)}const l=A(()=>e.noParentEvent,()=>{i.value!==null&&(n(),t())});return z(l),{localScrollTarget:i,unconfigureScrollTarget:n,changeScrollEvent:a}}let X=[],G=[];function Ee(e){G=G.filter(t=>t!==e)}function bt(e){Ee(e),G.push(e)}function xe(e){Ee(e),G.length===0&&X.length!==0&&(X[X.length-1](),X=[])}let Ct=1,wt=document.body;function Pt(e,t){const i=document.createElement("div");if(i.id=`q-portal--${t}--${Ct++}`,he.globalNodes!==void 0){const o=he.globalNodes.class;o!==void 0&&(i.className=o)}return wt.appendChild(i),i}function St(e){e.remove()}const K=[],Tt=ee({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function qt(e,t,i,o){const a=D(!1),n=D(!1);let l=null;const r={},s=o==="dialog";function d(p){if(p===!0){xe(r),n.value=!0;return}n.value=!1,a.value===!1&&(l===null&&(l=Pt(!1,o)),a.value=!0,K.push(e.proxy),bt(r))}function c(p){if(n.value=!1,p!==!0)return;xe(r),a.value=!1;const h=K.indexOf(e.proxy);h!==-1&&K.splice(h,1),l!==null&&(St(l),l=null)}return je(()=>{c(!0)}),e.proxy.__qPortal=!0,Oe(e.proxy,"contentEl",()=>t.value),{showPortal:d,hidePortal:c,portalIsActive:a,portalIsAccessible:n,renderPortal:()=>s===!0?i():a.value===!0?[C(Ve,{to:l},C(Tt,i))]:void 0}}const le={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function kt(e,t=()=>{},i=()=>{}){return{transitionProps:y(()=>{const o=`q-transition--${e.transitionShow||t()}`,a=`q-transition--${e.transitionHide||i()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${a}-leave-from`,leaveActiveClass:`${a}-leave-active`,leaveToClass:`${a}-leave-to`}}),transitionStyle:y(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function _t(){let e;const t=Q();function i(){e=void 0}return Qe(i),z(i),{removeTick:i,registerTick(o){e=o,ke(()=>{e===o&&(Ue(t)===!1&&e(),e=void 0)})}}}const{notPassiveCapture:Z}=re,F=[];function J(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let i=K.length-1;for(;i>=0;){const o=K[i].$;if(o.type.name==="QTooltip"){i--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;i--}for(let o=F.length-1;o>=0;o--){const a=F[o];if((a.anchorEl.value===null||a.anchorEl.value.contains(t)===!1)&&(t===document.body||a.innerRef.value!==null&&a.innerRef.value.contains(t)===!1))e.qClickOutside=!0,a.onClickOutside(e);else return}}function Et(e){F.push(e),F.length===1&&(document.addEventListener("mousedown",J,Z),document.addEventListener("touchstart",J,Z))}function be(e){const t=F.findIndex(i=>i===e);t!==-1&&(F.splice(t,1),F.length===0&&(document.removeEventListener("mousedown",J,Z),document.removeEventListener("touchstart",J,Z)))}let Ce,we;function Pe(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function $t(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ue={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ue[`${e}#ltr`]=e,ue[`${e}#rtl`]=e});function Se(e,t){const i=e.split(" ");return{vertical:i[0],horizontal:ue[`${i[1]}#${t===!0?"rtl":"ltr"}`]}}function Ht(e,t){let{top:i,left:o,right:a,bottom:n,width:l,height:r}=e.getBoundingClientRect();return t!==void 0&&(i-=t[1],o-=t[0],n+=t[1],a+=t[0],l+=t[0],r+=t[1]),{top:i,bottom:n,height:r,left:o,right:a,width:l,middle:o+(a-o)/2,center:i+(n-i)/2}}function At(e,t,i){let{top:o,left:a}=e.getBoundingClientRect();return o+=t.top,a+=t.left,i!==void 0&&(o+=i[1],a+=i[0]),{top:o,bottom:o+1,height:1,left:a,right:a+1,width:1,middle:a,center:o}}function Mt(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Te(e,t,i,o){return{top:e[i.vertical]-t[o.vertical],left:e[i.horizontal]-t[o.horizontal]}}function $e(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{$e(e,t+1)},10);return}const{targetEl:i,offset:o,anchorEl:a,anchorOrigin:n,selfOrigin:l,absoluteOffset:r,fit:s,cover:d,maxHeight:c,maxWidth:p}=e;if(O.is.ios===!0&&window.visualViewport!==void 0){const H=document.body.style,{offsetLeft:w,offsetTop:P}=window.visualViewport;w!==Ce&&(H.setProperty("--q-pe-left",w+"px"),Ce=w),P!==we&&(H.setProperty("--q-pe-top",P+"px"),we=P)}const{scrollLeft:h,scrollTop:u}=i,f=r===void 0?Ht(a,d===!0?[0,0]:o):At(a,r,o);Object.assign(i.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:p,maxHeight:c,visibility:"visible"});const{offsetWidth:_,offsetHeight:q}=i,{elWidth:W,elHeight:L}=s===!0||d===!0?{elWidth:Math.max(f.width,_),elHeight:d===!0?Math.max(f.height,q):q}:{elWidth:_,elHeight:q};let b={maxWidth:p,maxHeight:c};(s===!0||d===!0)&&(b.minWidth=f.width+"px",d===!0&&(b.minHeight=f.height+"px")),Object.assign(i.style,b);const k=Mt(W,L);let m=Te(f,k,n,l);if(r===void 0||o===void 0)ae(m,f,k,n,l);else{const{top:H,left:w}=m;ae(m,f,k,n,l);let P=!1;if(m.top!==H){P=!0;const E=2*o[1];f.center=f.top-=E,f.bottom-=E+2}if(m.left!==w){P=!0;const E=2*o[0];f.middle=f.left-=E,f.right-=E+2}P===!0&&(m=Te(f,k,n,l),ae(m,f,k,n,l))}b={top:m.top+"px",left:m.left+"px"},m.maxHeight!==void 0&&(b.maxHeight=m.maxHeight+"px",f.height>m.maxHeight&&(b.minHeight=b.maxHeight)),m.maxWidth!==void 0&&(b.maxWidth=m.maxWidth+"px",f.width>m.maxWidth&&(b.minWidth=b.maxWidth)),Object.assign(i.style,b),i.scrollTop!==u&&(i.scrollTop=u),i.scrollLeft!==h&&(i.scrollLeft=h)}function ae(e,t,i,o,a){const n=i.bottom,l=i.right,r=Je(),s=window.innerHeight-r,d=document.body.clientWidth;if(e.top<0||e.top+n>s)if(a.vertical==="center")e.top=t[o.vertical]>s/2?Math.max(0,s-n):0,e.maxHeight=Math.min(n,s);else if(t[o.vertical]>s/2){const c=Math.min(s,o.vertical==="center"?t.center:o.vertical===a.vertical?t.bottom:t.top);e.maxHeight=Math.min(n,c),e.top=Math.max(0,c-n)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===a.vertical?t.top:t.bottom),e.maxHeight=Math.min(n,s-e.top);if(e.left<0||e.left+l>d)if(e.maxWidth=Math.min(l,d),a.horizontal==="middle")e.left=t[o.horizontal]>d/2?Math.max(0,d-l):0;else if(t[o.horizontal]>d/2){const c=Math.min(d,o.horizontal==="middle"?t.middle:o.horizontal===a.horizontal?t.right:t.left);e.maxWidth=Math.min(l,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===a.horizontal?t.left:t.right),e.maxWidth=Math.min(l,d-e.left)}const Nt=ee({name:"QTooltip",inheritAttrs:!1,props:{...pt,...nt,...le,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...le.transitionShow,default:"jump-down"},transitionHide:{...le.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Pe},self:{type:String,default:"top middle",validator:Pe},offset:{type:Array,default:()=>[14,14],validator:$t},scrollTarget:tt,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...et],setup(e,{slots:t,emit:i,attrs:o}){let a,n;const l=Q(),{proxy:{$q:r}}=l,s=D(null),d=D(!1),c=y(()=>Se(e.anchor,r.lang.rtl)),p=y(()=>Se(e.self,r.lang.rtl)),h=y(()=>e.persistent!==!0),{registerTick:u,removeTick:f}=_t(),{registerTimeout:_}=_e(),{transitionProps:q,transitionStyle:W}=kt(e),{localScrollTarget:L,changeScrollEvent:b,unconfigureScrollTarget:k}=xt(e,ce),{anchorEl:m,canShow:H,anchorEvents:w}=yt({showing:d,configureAnchorEl:Ae}),{show:P,hide:E}=ot({showing:d,canShow:H,handleShow:T,handleHide:v,hideOnRouteChange:h,processOnMount:!0});Object.assign(w,{delayShow:j,delayHide:He});const{showPortal:x,hidePortal:M,renderPortal:B}=qt(l,s,We,"tooltip");if(r.platform.is.mobile===!0){const $={anchorEl:m,innerRef:s,onClickOutside(N){return E(N),N.target.classList.contains("q-dialog__backdrop")&&Y(N),!0}},ne=y(()=>e.modelValue===null&&e.persistent!==!0&&d.value===!0);A(ne,N=>{(N===!0?Et:be)($)}),z(()=>{be($)})}function T($){x(),u(()=>{n=new MutationObserver(()=>S()),n.observe(s.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),S(),ce()}),a===void 0&&(a=A(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,S)),_(()=>{x(!0),i("show",$)},e.transitionDuration)}function v($){f(),M(),g(),_(()=>{M(!0),i("hide",$)},e.transitionDuration)}function g(){n!==void 0&&(n.disconnect(),n=void 0),a!==void 0&&(a(),a=void 0),k(),V(w,"tooltipTemp")}function S(){$e({targetEl:s.value,offset:e.offset,anchorEl:m.value,anchorOrigin:c.value,selfOrigin:p.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function j($){if(r.platform.is.mobile===!0){U(),document.body.classList.add("non-selectable");const ne=m.value,N=["touchmove","touchcancel","touchend","click"].map(de=>[ne,de,"delayHide","passiveCapture"]);I(w,"tooltipTemp",N)}_(()=>{P($)},e.delay)}function He($){r.platform.is.mobile===!0&&(V(w,"tooltipTemp"),U(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),_(()=>{E($)},e.hideDelay)}function Ae(){if(e.noParentEvent===!0||m.value===null)return;const $=r.platform.is.mobile===!0?[[m.value,"touchstart","delayShow","passive"]]:[[m.value,"mouseenter","delayShow","passive"],[m.value,"mouseleave","delayHide","passive"]];I(w,"anchor",$)}function ce(){if(m.value!==null||e.scrollTarget!==void 0){L.value=it(m.value,e.scrollTarget);const $=e.noParentEvent===!0?S:E;b(L.value,$)}}function Me(){return d.value===!0?C("div",{...o,ref:s,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,W.value],role:"tooltip"},te(t.default)):null}function We(){return C(qe,q.value,Me)}return z(g),Object.assign(l.proxy,{updatePosition:S}),B}});export{Bt as Q,Dt as a,Nt as b};
